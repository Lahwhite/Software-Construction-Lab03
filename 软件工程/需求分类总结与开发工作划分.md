# 记账本APP需求分类总结与开发工作划分
为提升后续开发效率、降低维护成本，结合需求优先级与模块独立性，将需求按**功能性需求**（用户直接操作的核心功能）、**非功能性需求**（保障APP稳定运行的底层能力）分类，并拆解为可落地的开发任务，明确任务边界与依赖关系。


## 一、功能性需求分类及工作划分
功能性需求按“数据流转+用户交互”逻辑，划分为6大核心模块，每个模块明确“需求范围-开发任务-前后端/设计分工”，确保模块独立可扩展。

### 1. 收支记录模块（核心数据入口）
#### 需求范围
- 收支录入（金额、日期、固定支付方式、自定义支出分类、备注）
- 收支编辑/删除（单条修改、单条/批量删除，删除前确认）
- 数据同步联动（编辑/删除后实时同步至统计、预算模块）

#### 工作划分
| 任务类型       | 具体任务                                                                 | 负责角色       | 依赖模块       |
|----------------|--------------------------------------------------------------------------|----------------|----------------|
| 数据模型设计   | 设计“收支记录”数据结构（字段：记录ID、金额、收支类型、日期、支付方式ID、分类ID、备注、创建时间），关联“支出分类表”“支付方式表” | 后端/数据架构师 | 无（基础模块） |
| 前端表单开发   | 1. 开发收支录入表单（金额输入限制2位小数、日期默认当前日+手动修改控件、支付方式下拉选择（固定选项）、支出分类下拉选择（支持新增/删除）、备注输入框）<br>2. 开发编辑/删除功能（列表长按触发删除、点击记录进入编辑页，删除前弹窗确认） | 前端开发       | 数据模型       |
| 数据联动逻辑   | 实现“编辑/删除记录后，实时刷新统计图表数据、预算进度条”的联动接口（前端监听数据变化，触发统计/预算模块重渲染） | 前后端协作     | 统计模块、预算模块 |
| 分类管理开发   | 开发“支出分类自定义”功能（新增分类输入框、分类列表删除按钮，不支持二级分类与自定义图标） | 前端开发       | 数据模型       |


### 2. 统计与查找模块（数据可视化+检索）
#### 需求范围
- 多维度统计（时间/分类/支付方式维度，跨周期对比，饼图/柱状图/折线图+表格呈现）
- 多条件查找（金额范围、时间范围、分类、支付方式、备注关键词，结果排序/编辑/删除）

#### 工作划分
| 任务类型       | 具体任务                                                                 | 负责角色       | 依赖模块       |
|----------------|--------------------------------------------------------------------------|----------------|----------------|
| 统计接口开发   | 1. 开发多维度统计接口（按时间维度聚合收支总额、按分类/支付方式计算占比、跨周期对比数据）<br>2. 接口支持自定义时间段参数（如startDate、endDate） | 后端开发       | 收支记录模块   |
| 图表组件开发   | 1. 集成图表库（如ECharts、MPAndroidChart），实现饼图（占比）、柱状图（周期对比）、折线图（趋势），图表标注金额+百分比<br>2. 开发表格组件，展示统计对应的详细收支记录 | 前端开发       | 统计接口       |
| 查找功能开发   | 1. 开发查找条件控件（金额范围输入框、时间选择器、分类/支付方式下拉、备注搜索框）<br>2. 实现查找结果列表（支持按金额升/降序、时间新/旧序排序，列表项支持编辑/删除） | 前端开发       | 收支记录模块数据接口 |


### 3. 预算管理模块（财务管控核心）
#### 需求范围
- 预算设置（总预算+分类预算，周期默认自然月，不跨周期关联）
- 预算预警（默认阈值80%，打开APP弹窗提醒，后期加系统推送）
- 预算总结（周期结束自动生成节余/超支报告，实时查看进度）

#### 工作划分
| 任务类型       | 具体任务                                                                 | 负责角色       | 依赖模块       |
|----------------|--------------------------------------------------------------------------|----------------|----------------|
| 预算模型设计   | 设计“预算记录”数据结构（字段：预算ID、用户ID、周期（年月）、总预算金额、分类预算列表（分类ID+预算金额）、预警阈值） | 后端/数据架构师 | 收支记录模块（分类关联） |
| 预算设置开发   | 1. 开发预算设置页（总预算输入框、分类预算列表（关联支出分类，支持输入金额）、周期显示（默认当前月，不可修改））<br>2. 实现预算保存接口（前端提交预算数据，后端存储至云端/本地） | 前后端协作     | 收支记录模块（支出分类） |
| 预警逻辑开发   | 1. 开发预警判断逻辑（实时计算“已用金额/预算金额”，达到阈值80%时，打开APP触发弹窗提醒）<br>2. 预留“系统推送通知”接口（后期对接手机推送服务，如JPush、FCM） | 前后端协作     | 收支记录模块（已用金额统计） |
| 预算报告开发   | 1. 开发预算进度页（进度条展示总预算/分类预算使用进度，显示“已用金额/总预算+百分比”）<br>2. 周期结束（月末）自动生成总结报告（计算节余/超支金额，列表展示各分类明细） | 前端开发       | 预算模型、统计接口 |


### 4. 数据存储与同步模块（数据安全与多端一致）
#### 需求范围
- 双存储模式（本地存储+云端存储，云端仅支持QQ第三方登录）
- 数据同步（联网自动同步，冲突时弹窗让用户选择优先级）
- 无本地备份功能，暂不开发数据安全功能

#### 工作划分
| 任务类型       | 具体任务                                                                 | 负责角色       | 依赖模块       |
|----------------|--------------------------------------------------------------------------|----------------|----------------|
| 存储方案实现   | 1. 本地存储：使用SQLite数据库存储收支/预算数据（适配离线使用，设置10000条记录上限，超出时提示“需联网同步至云端释放空间”）<br>2. 云端存储：对接云服务器数据库（如MySQL），设计用户数据隔离（按QQ登录ID分表） | 前后端/数据架构师 | 无（基础模块） |
| QQ登录集成     | 1. 对接QQ开放平台SDK，实现第三方快捷登录（获取用户唯一标识，关联云端用户数据）<br>2. 开发登录页（仅显示QQ登录按钮，登录后跳转首页） | 前后端协作     | 云端存储       |
| 同步逻辑开发   | 1. 开发“联网自动同步”触发器（APP打开且联网时，检测本地与云端数据版本差异）<br>2. 实现冲突处理逻辑（差异数据弹窗展示，让用户选择“以本地为准”或“以云端为准”，同步后更新本地/云端数据版本号） | 前后端协作     | 存储方案、收支/预算模块 |


### 5. UI与视觉设计模块（二次元风格+用户体验）
#### 需求范围
- 二次元视觉风格（动态角色（首页待机动作，不可点击）、静态图标、二次元配色）
- 简洁界面（核心操作3步内完成，首页展示收支概览/预算进度/最近记录）
- 操作反馈（保存成功弹窗、删除确认弹窗、页面切换流畅）

#### 工作划分
| 任务类型       | 具体任务                                                                 | 负责角色       | 依赖模块       |
|----------------|--------------------------------------------------------------------------|----------------|----------------|
| 视觉风格设计   | 1. 设计二次元主色调（如粉蓝、粉紫）、按钮/图标样式（二次元风格，如圆角+线条感）<br>2. 设计首页动态角色（待机动作序列图，如轻微晃动、表情变化，格式适配手机屏幕） | UI/动效设计师  | 无             |
| 页面原型开发   | 1. 绘制核心页面原型（首页、收支录入页、统计页、预算页、查找页），确保“录入收支”3步完成（点击+号→填表单→保存）<br>2. 设计首页布局（顶部收支概览卡片、中部预算进度条、底部最近3条记录列表） | UI/前端开发    | 视觉风格设计   |
| 交互反馈实现   | 1. 开发操作反馈弹窗（保存成功提示、删除确认弹窗，样式匹配二次元风格）<br>2. 优化页面切换动画（如滑动过渡，避免卡顿） | 前端开发       | 页面原型       |


### 6. 离线功能模块（离线可用+联网同步）
#### 需求范围
- 离线操作（录入收支、统计、查找、预算预警）
- 离线数据存储（上限10000条，联网后同步）

#### 工作划分
| 任务类型       | 具体任务                                                                 | 负责角色       | 依赖模块       |
|----------------|--------------------------------------------------------------------------|----------------|----------------|
| 离线数据适配   | 1. 确保收支/预算/统计/查找模块的前端逻辑支持“本地数据读取”（无网络时，不请求云端接口，直接读取SQLite数据）<br>2. 开发“离线状态提示”（顶部状态栏显示“离线模式”，联网后自动消失） | 前端开发       | 存储方案、各功能模块 |
| 存储上限控制   | 开发“本地记录数监控”逻辑（当本地收支记录达到10000条时，弹窗提示“本地数据已达上限，请联网同步至云端”，同步后自动删除本地已同步数据） | 前端开发       | 数据同步模块   |


## 二、非功能性需求分类及工作划分
非功能性需求聚焦“性能、兼容性、稳定性”，需与功能性需求同步开发，避免后期返工。

### 1. 性能优化需求
#### 需求范围
- 离线存储10000条记录时，APP操作流畅（无卡顿）
- 统计图表加载时间≤1秒，查找结果响应≤0.5秒

#### 工作划分
| 任务类型       | 具体任务                                                                 | 负责角色       | 依赖模块       |
|----------------|--------------------------------------------------------------------------|----------------|----------------|
| 本地数据库优化 | 1. 为SQLite的“收支记录表”添加索引（按日期、分类ID、支付方式ID索引，提升查找/统计效率）<br>2. 实现“数据分页加载”（统计/查找结果超过20条时，分页展示，避免一次性加载卡顿） | 后端/前端开发  | 存储方案、统计/查找模块 |
| 前端性能优化   | 1. 优化图表渲染逻辑（仅加载当前视图所需数据，避免全量数据渲染）<br>2. 减少页面重渲染（使用前端状态管理（如Vuex、Redux）缓存数据，避免重复请求） | 前端开发       | 统计模块       |


### 2. 兼容性需求
#### 需求范围
- 适配Android（Android 8.0及以上）、iOS（iOS 12.0及以上）主流版本
- 适配不同手机屏幕尺寸（如4.7英寸-6.7英寸）

#### 工作划分
| 任务类型       | 具体任务                                                                 | 负责角色       | 依赖模块       |
|----------------|--------------------------------------------------------------------------|----------------|----------------|
| 跨平台适配     | 1. 采用响应式布局（使用Flex、ConstraintLayout等，确保按钮/表单在不同屏幕居中显示）<br>2. 针对Android/iOS系统差异，适配原生控件（如日期选择器、弹窗样式） | 前端开发       | UI模块         |
| 兼容性测试     | 1. 在主流机型（如Android：小米12、华为Mate 50；iOS：iPhone 12、14）上测试功能可用性<br>2. 修复适配问题（如小屏手机表单溢出、大屏手机控件间距过大） | 测试工程师     | 所有功能模块   |


### 3. 稳定性需求
#### 需求范围
- 数据同步冲突时无数据丢失
- 离线切换联网时，同步过程不崩溃

#### 工作划分
| 任务类型       | 具体任务                                                                 | 负责角色       | 依赖模块       |
|----------------|--------------------------------------------------------------------------|----------------|----------------|
| 同步异常处理   | 1. 开发“同步失败重试”逻辑（网络波动导致同步失败时，30秒后自动重试，最多重试3次）<br>2. 实现“同步日志记录”（本地存储同步结果，失败时记录错误原因，便于排查） | 前后端协作     | 数据同步模块   |
| 崩溃防护       | 1. 为离线/联网切换场景添加“异常捕获”（如断网时阻止云端请求，避免空指针崩溃）<br>2. 集成崩溃统计工具（如Bugly），实时监控崩溃问题 | 前后端/测试工程师 | 所有模块       |


## 三、开发优先级建议
按“基础能力→核心功能→体验优化”排序，确保早期可实现最小可用版本（MVP）：
1. **第一阶段（MVP基础）**：数据存储与同步模块（本地存储+QQ登录）→ 收支记录模块（录入/编辑/删除）→ 预算模块（基础设置+预警）
2. **第二阶段（核心功能）**：统计与查找模块（多维度统计+查找）→ 离线功能模块（离线操作+存储上限）
3. **第三阶段（体验优化）**：UI视觉细化（动态角色、二次元图标）→ 性能优化（数据库索引、分页加载）→ 兼容性测试


通过以上分类与划分，每个开发任务均有明确的“需求依据、负责角色、依赖关系”，可有效避免功能重叠，降低后期维护成本，同时支持按阶段迭代开发，快速验证核心功能可用性。
